(this.webpackJsonplibracoin=this.webpackJsonplibracoin||[]).push([[0],{47:function(e,t,a){},60:function(e,t,a){},65:function(e,t,a){},66:function(e,t,a){},67:function(e,t,a){},69:function(e,t,a){},73:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(25),c=a.n(s),i=a(53),o=a(8),l=a(7),u=a.n(l),d=a(43),j=a(11),b=a(10),h=a(76),x=a(78),p=a(80),O=a(79),m=(a(60),a(1));function v(){return Object(m.jsxs)(p.a,{bg:"none",expand:"lg",className:"mb-3",children:[Object(m.jsx)(p.a.Brand,{href:"https://github.com/lbragile/LibraCoin",children:Object(m.jsx)("img",{src:"./assets/libracoin-logo-256.png",alt:"LibraCoin Logo",width:"64"})}),Object(m.jsx)(p.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(m.jsx)(p.a.Collapse,{id:"basic-navbar-nav",children:Object(m.jsxs)(O.a,{className:"mr-auto",children:[Object(m.jsx)(O.a.Link,{href:"/LibraCoin/wallet",active:location.href.includes("/wallet"),children:"Wallet"}),Object(m.jsx)(O.a.Link,{href:"/LibraCoin/mine",active:location.href.includes("/mine"),children:"Mine"}),Object(m.jsx)(O.a.Link,{href:"/LibraCoin/blockchain",active:location.href.includes("/blockchain"),children:"Blockchain"})]})})]})}var f=a(31),y=a(24),g=a(41),w=a(15),H=a(32),k=function e(t,a,n,r){Object(y.a)(this,e),this.index=void 0,this.prevHash=void 0,this.currHash=void 0,this.transactions=void 0,this.timestamp=Date.now(),this.index=t,this.prevHash=a,this.currHash=n,this.transactions=r},S=function e(t,a,n,r){Object(y.a)(this,e),this.amount=void 0,this.from=void 0,this.to=void 0,this.message=void 0,this.amount=t,this.from=a,this.to=n,this.message=r},C=Object(H.a)("chain"),N=Object(H.a)("verifiedTransactions"),D=Object(H.a)("BLOCK_LIMIT"),T=Object(H.a)("users"),L=function(){function e(){Object(y.a)(this,e),Object.defineProperty(this,C,{writable:!0,value:void 0}),Object.defineProperty(this,N,{writable:!0,value:void 0}),Object.defineProperty(this,D,{writable:!0,value:2}),Object.defineProperty(this,T,{writable:!0,value:void 0});var t={type:"public",extractable:!0,algorithm:{name:"ECDSA"},usages:["verify"]},a=[new S(0,t,t)],n=Array(64).fill("0").join(""),r=this.randomHash(32).replace(/^.{0,3}/,"000");Object(w.a)(this,C)[C]=[new k(0,n,r,a)],Object(w.a)(this,N)[N]=[],Object(w.a)(this,T)[T]=[]}return Object(g.a)(e,[{key:"blockChain",get:function(){return Object(w.a)(this,C)[C]}},{key:"lastBlock",get:function(){return Object(w.a)(this,C)[C][Object(w.a)(this,C)[C].length-1]}},{key:"addUser",value:function(e){Object(w.a)(this,T)[T].push(e)}},{key:"randomHash",value:function(t){return e.bufferToHex(window.crypto.getRandomValues(new Uint32Array(t)))}},{key:"digestMessage",value:function(){var t=Object(j.a)(u.a.mark((function t(a){var n,r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=(new TextEncoder).encode(a),t.next=3,window.crypto.subtle.digest("SHA-256",n);case 3:return r=t.sent,t.abrupt("return",e.bufferToHex(r));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"mine",value:function(){var e=Object(j.a)(u.a.mark((function e(t,a,n,r){var s,c,i=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=i.length>4&&void 0!==i[4]?i[4]:0,console.log("\u2692 mining..."),c="";case 3:if(!(t<=Number.MAX_SAFE_INTEGER)){e.next=16;break}return e.next=6,this.digestMessage(t.toString());case 6:if(c=e.sent,r(c),!c.substr(0,a).split("").every((function(e){return"0"===e}))){e.next=12;break}return console.log("Solved: ".concat(t)),e.abrupt("break",16);case 12:n(t++),setTimeout((function(){}),s),e.next=3;break;case 16:return e.abrupt("return",c);case 17:case"end":return e.stop()}}),e,this)})));return function(t,a,n,r){return e.apply(this,arguments)}}()},{key:"verifyTransaction",value:function(){var t=Object(j.a)(u.a.mark((function t(a,n){var r,s;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.stringToArrayBuffer(JSON.stringify(a)),t.next=3,crypto.subtle.verify({name:"ECDSA",hash:"SHA-256"},a.from,n,r);case 3:if((s=t.sent)&&(Object(w.a)(this,N)[N].push(a),console.log("\u2705 Verified Transaction!"),console.log("Transaction Pool Now Has ".concat(Object(w.a)(this,N)[N].length," Verified Transactions"))),Object(w.a)(this,N)[N].length!==Object(w.a)(this,D)[D]){t.next=9;break}return t.next=8,this.addBlock(Object(w.a)(this,N)[N]);case 8:Object(w.a)(this,N)[N]=[];case 9:return t.abrupt("return",s);case 10:case"end":return t.stop()}}),t,this)})));return function(e,a){return t.apply(this,arguments)}}()},{key:"addBlock",value:function(){var e=Object(j.a)(u.a.mark((function e(t){var a,n,r,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Math.round(2*Math.random())+2,e.next=3,this.digestMessage(this.randomHash(20));case 3:for(n=e.sent,r=new RegExp("^.{0,".concat(a,"}"),"g"),s=Array(a).fill("0").join(""),n.replace(r,s);;);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"stringToArrayBuffer",value:function(e){for(var t=new ArrayBuffer(2*e.length),a=new Uint16Array(t),n=0,r=e.length;n<r;n++)a[n]=e.charCodeAt(n);return t}},{key:"bufferToHex",value:function(e){return Array.from(new Uint8Array(e)).map((function(e){return e.toString(16).padStart(2,"0")})).join("")}}]),e}();L.instance=new L;var V=a(77),I=a(75);function K(e){return Object(m.jsx)("div",{children:Object(m.jsxs)(V.a,{show:e.show,validated:e.validated.toString(),centered:!0,backdrop:"static",onHide:function(){e.setShow(!1),e.setSigned(!1),e.setValidated(!1)},animation:!1,children:[Object(m.jsx)(V.a.Header,{closeButton:!0,children:Object(m.jsx)("h4",{children:"LibraCoin Transaction (Send)"})}),Object(m.jsx)(V.a.Body,{children:Object(m.jsxs)(x.a,{noValidate:!0,onSubmit:e.handleSubmit,children:[Object(m.jsxs)(x.a.Group,{controlId:"SendTo",children:[Object(m.jsx)(x.a.Label,{children:Object(m.jsx)("b",{children:"To:"})}),Object(m.jsx)(x.a.Control,{type:"text",defaultValue:e.details.to,disabled:!0})]}),Object(m.jsxs)(x.a.Group,{controlId:"SendAmount",children:[Object(m.jsx)(x.a.Label,{children:Object(m.jsx)("b",{children:"Amount:"})}),Object(m.jsxs)(I.a,{className:"mb-2",children:[Object(m.jsx)(x.a.Control,{type:"text",defaultValue:e.details.amount,disabled:!0}),Object(m.jsx)(I.a.Prepend,{children:Object(m.jsx)(I.a.Text,{children:"LC"})})]})]}),Object(m.jsxs)(x.a.Group,{controlId:"TransMessage",children:[Object(m.jsx)(x.a.Label,{children:Object(m.jsx)("b",{children:"Message:"})}),Object(m.jsx)(x.a.Control,{as:"textarea",defaultValue:e.details.message,rows:3,disabled:!0})]}),Object(m.jsxs)(x.a.Group,{controlId:"SendSignature",children:[Object(m.jsx)(x.a.Label,{children:Object(m.jsx)("b",{children:"Signature:"})}),Object(m.jsx)(x.a.Control,{type:"text",defaultValue:e.details.signature,disabled:!0}),Object(m.jsx)(x.a.Text,{className:"text-muted",children:"Receiver uses this along with your public key to verify transaction."})]}),Object(m.jsx)(h.a,{variant:"primary",type:"submit",block:!0,children:Object(m.jsx)("b",{children:"Send"})})]})})]})})}function A(e){var t,a;return Object(m.jsx)("div",{children:Object(m.jsxs)(V.a,{show:e.show,centered:!0,backdrop:"static",onHide:function(){return e.setShow(!1)},animation:!1,children:[Object(m.jsx)(V.a.Header,{closeButton:!0,children:Object(m.jsx)("h4",{children:"LibraCoin Transaction (Sign)"})}),Object(m.jsx)(V.a.Body,{children:Object(m.jsxs)(x.a,{noValidate:!0,validated:e.validated,onSubmit:e.handleSubmit,children:[Object(m.jsxs)(x.a.Group,{controlId:"TransFrom",children:[Object(m.jsx)(x.a.Label,{children:Object(m.jsx)("b",{children:"From:"})}),Object(m.jsx)(x.a.Control,{type:"text",defaultValue:(null===(t=JSON.parse(localStorage.getItem("user")))||void 0===t?void 0:t.publicKey)||""}),Object(m.jsx)(x.a.Text,{className:"text-muted",children:"Your public key \u2192 used to verify transaction was signed using your private key"})]}),Object(m.jsxs)(x.a.Group,{controlId:"TransTo",children:[Object(m.jsx)(x.a.Label,{children:Object(m.jsx)("b",{children:"To:"})}),Object(m.jsx)(x.a.Control,{type:"text",pattern:"[A-Za-z0-9]{182,182}",required:!0}),Object(m.jsx)(x.a.Control.Feedback,{type:"invalid",children:"Must be of the same format as your public key"})]}),Object(m.jsxs)(x.a.Group,{controlId:"TransAmount",children:[Object(m.jsx)(x.a.Label,{children:Object(m.jsx)("b",{children:"Amount:"})}),Object(m.jsxs)(I.a,{className:"mb-2",children:[Object(m.jsx)(x.a.Control,{type:"text",placeholder:"1.00",onBlur:function(e){return function(e){var t,a=(null===(t=JSON.parse(localStorage.getItem("user")))||void 0===t?void 0:t.balance)||1e3;e.target.value=Math.min(Math.max(.1,+e.target.value),a).toFixed(2).toString()}(e)},required:!0}),Object(m.jsx)(I.a.Prepend,{children:Object(m.jsx)(I.a.Text,{children:"LC"})})]})]}),Object(m.jsxs)(x.a.Group,{controlId:"TransMessage",children:[Object(m.jsx)(x.a.Label,{children:Object(m.jsx)("b",{children:"Message:"})}),Object(m.jsx)(x.a.Control,{as:"textarea",placeholder:"optional message...",rows:3})]}),Object(m.jsxs)(x.a.Group,{controlId:"TransPrivate",children:[Object(m.jsx)(x.a.Label,{children:Object(m.jsx)("b",{children:"Private Key:"})}),Object(m.jsx)(x.a.Control,{type:"text",defaultValue:(null===(a=JSON.parse(localStorage.getItem("user")))||void 0===a?void 0:a.privateKey)||"",required:!0}),Object(m.jsx)(x.a.Text,{className:"text-muted",children:"This is not shared with anyone, keep this secret!"})]}),Object(m.jsx)(h.a,{variant:"primary",type:"submit",block:!0,children:Object(m.jsx)("b",{children:"Sign"})})]})})]})})}function M(){var e,t,a=Object(n.useState)(!1),r=Object(b.a)(a,2),s=r[0],c=r[1],i=Object(n.useState)(!1),o=Object(b.a)(i,2),l=o[0],h=o[1],x=Object(n.useState)(!1),p=Object(b.a)(x,2),O=p[0],v=p[1],y=Object(n.useRef)({to:"",from:null!==(e=null===(t=JSON.parse(localStorage.getItem("user")))||void 0===t?void 0:t.publicKey)&&void 0!==e?e:"",amount:0,message:"",signature:""}),g=function(){var e=Object(j.a)(u.a.mark((function e(t){var a,n,r,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=t.currentTarget,h(!0),!a.checkValidity()||O){e.next=15;break}return n=Object(f.a)({},a),r=Object.values(n).slice(1,4).map((function(e){return e.value})),y.current.to=r[0],y.current.amount=+r[1],y.current.message=r[2],e.next=11,L.instance.digestMessage(JSON.stringify(y.current));case 11:y.current.signature=e.sent,v(!0),e.next=16;break;case 15:a.checkValidity()&&(s=JSON.parse(localStorage.getItem("transactions"))||[],localStorage.setItem("transactions",JSON.stringify([].concat(Object(d.a)(s),[y.current]))),c(!1),v(!1),h(!1));case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsxs)("div",{children:[Object(m.jsx)("button",{className:"font-weight-bold btn btn-info p-3 my-5",onClick:function(){return c(!0)},children:"Make Transaction"}),O?Object(m.jsx)(K,{show:s,setShow:c,validated:l,setValidated:h,setSigned:v,handleSubmit:g,details:y.current}):Object(m.jsx)(A,{show:s,setShow:c,validated:l,handleSubmit:g})]})}a(47);function G(e){var t=e.details,a=e.title,r=e.show,s=e.setShow,c=e.showUserDetails,i=Object(n.useRef)({index:0,to:"",from:"",amount:0,message:"",signature:""});return Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{children:[Object(m.jsx)("h3",{children:Object(m.jsxs)("b",{children:[a,":"]})}),Object(m.jsx)("div",{id:"user-list-background",children:null===t||void 0===t?void 0:t.map((function(e,t){return Object(m.jsx)("div",{className:"user-item ml-3 col-1",onClick:function(){return c(e,t,i)},children:Object(m.jsx)("p",{className:"user-item-index-text",children:Object(m.jsx)("b",{children:t})})},Math.random())}))})]}),Object(m.jsxs)(V.a,{show:r,centered:!0,onHide:function(){return s(!1)},animation:!1,children:[Object(m.jsx)(V.a.Header,{closeButton:!0,children:Object(m.jsxs)(V.a.Title,{children:[a," #",i.current.index," Details"]})}),Object(m.jsx)(V.a.Body,{children:Object(m.jsxs)("div",{children:[Object(m.jsxs)(x.a.Group,{children:[Object(m.jsx)(x.a.Label,{children:Object(m.jsx)("h5",{children:"From:"})}),Object(m.jsx)(x.a.Control,{type:"text",className:"text-truncate",defaultValue:i.current.from})]}),Object(m.jsxs)(x.a.Group,{children:[Object(m.jsx)(x.a.Label,{children:Object(m.jsx)("h5",{children:"To:"})}),Object(m.jsx)(x.a.Control,{type:"text",className:"text-truncate",defaultValue:i.current.to})]}),Object(m.jsxs)(x.a.Group,{children:[Object(m.jsx)(x.a.Label,{children:Object(m.jsx)("h5",{children:"Message:"})}),Object(m.jsx)(x.a.Control,{as:"textarea",className:"text-truncate",defaultValue:i.current.message})]}),Object(m.jsxs)(x.a.Group,{children:[Object(m.jsx)(x.a.Label,{children:Object(m.jsx)("h5",{children:"Amount:"})}),Object(m.jsx)(x.a.Control,{type:"number",className:"text-truncate",defaultValue:i.current.amount})]}),Object(m.jsxs)(x.a.Group,{children:[Object(m.jsx)(x.a.Label,{children:Object(m.jsx)("h5",{children:"Signature:"})}),Object(m.jsx)(x.a.Control,{type:"text",className:"text-truncate",defaultValue:i.current.signature})]})]})})]})]})}function B(e){var t=e.details,a=e.title,r=e.show,s=e.setShow,c=e.copied,i=e.showUserDetails,o=e.copyPublicKey,l=Object(n.useRef)({index:0,publicKey:"",balance:0});return Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{children:[Object(m.jsx)("h3",{children:Object(m.jsxs)("b",{children:[a,":"]})}),Object(m.jsx)("div",{id:"user-list-background",children:null===t||void 0===t?void 0:t.map((function(e,t){return Object(m.jsx)("div",{className:"user-item ml-3 col-1",onClick:function(){return i(e,t,l)},children:Object(m.jsx)("p",{className:"user-item-index-text",children:Object(m.jsx)("b",{children:t})})},Math.random())}))})]}),Object(m.jsxs)(V.a,{show:r,centered:!0,onHide:function(){return s(!1)},animation:!1,children:[Object(m.jsx)(V.a.Header,{closeButton:!0,children:Object(m.jsxs)(V.a.Title,{children:[a," #",l.current.index," Details"]})}),Object(m.jsx)(V.a.Body,{children:Object(m.jsxs)("div",{children:[Object(m.jsxs)(x.a.Group,{children:[Object(m.jsx)(x.a.Label,{children:Object(m.jsx)("h5",{children:"Public Key:"})}),Object(m.jsx)(x.a.Control,{type:"text",className:"text-truncate",onFocus:function(e){return o(e)},defaultValue:l.current.publicKey,isValid:c}),Object(m.jsx)(x.a.Control.Feedback,{type:"valid",children:"Copied to clipboard"})]}),Object(m.jsxs)(x.a.Group,{children:[Object(m.jsx)(x.a.Label,{children:Object(m.jsx)("h5",{children:"Balance:"})}),Object(m.jsxs)("p",{children:[l.current.balance.toFixed(2)," LC"]})]})]})})]})]})}function J(e){var t=e.details,a=e.title,r=Object(n.useState)(!1),s=Object(b.a)(r,2),c=s[0],i=s[1],o=Object(n.useState)(!1),l=Object(b.a)(o,2),u=l[0],d=l[1];function j(e,t,a){a.current=Object(f.a)(Object(f.a)({},e),{},{index:t}),i(!0)}return Object(m.jsx)("div",{children:Object(m.jsx)("div",{children:a.toLowerCase().includes("user")?Object(m.jsx)(B,{details:t,title:a,show:c,setShow:i,copied:u,showUserDetails:j,copyPublicKey:function(e){e.target.select(),e.target.setSelectionRange(0,1e6),document.execCommand("copy"),d(!0)}}):Object(m.jsx)(G,{details:t,title:a,show:c,setShow:i,showUserDetails:j})})})}var P=function(){function e(){Object(y.a)(this,e),this.publicKey=void 0,this.privateKey=void 0,this.balance=void 0,this.publicKey={type:"public",extractable:!0,algorithm:{name:"ECDSA"},usages:["verify"]},this.privateKey={type:"private",extractable:!0,algorithm:{name:"ECDSA"},usages:["sign"]},this.balance=1e3}return Object(g.a)(e,[{key:"initialize",value:function(){var e=Object(j.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.crypto.subtle.generateKey({name:"ECDSA",namedCurve:"P-256"},!0,["sign","verify"]);case 2:t=e.sent,this.publicKey=t.publicKey,this.privateKey=t.privateKey;case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getMessageEncoding",value:function(e){return(new TextEncoder).encode(e)}},{key:"sendMoney",value:function(){var e=Object(j.a)(u.a.mark((function e(t,a,n){var r,s,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t<=this.balance)){e.next=12;break}return r=new S(t,this.publicKey,a,n),s=L.stringToArrayBuffer(JSON.stringify(r)),e.next=5,window.crypto.subtle.sign({name:"ECDSA",hash:"SHA-256"},this.privateKey,s);case 5:return c=e.sent,e.next=8,L.instance.verifyTransaction(r,c);case 8:e.sent?this.balance-=t:alert("Invalid transaction!"),e.next=13;break;case 12:alert("Your balance is not high enough to cover this transaction.");case 13:case"end":return e.stop()}}),e,this)})));return function(t,a,n){return e.apply(this,arguments)}}()}],[{key:"CryptoKeyToHex",value:function(){var e=Object(j.a)(u.a.mark((function e(t,a){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.crypto.subtle.exportKey(t,a);case 2:return n=e.sent,e.abrupt("return",L.bufferToHex(n));case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()}]),e}();a(65);function R(){var e,t,a=Object(n.useRef)(null),r=Object(n.useRef)(null),s=Object(n.useState)([!1,!1]),c=Object(b.a)(s,2),i=c[0],o=c[1],l=Object(n.useState)(localStorage.getItem("users")?JSON.parse(localStorage.getItem("users")):[]),p=Object(b.a)(l,2),O=p[0],f=p[1],y=function(){var e=Object(j.a)(u.a.mark((function e(){var t,n,s,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new P,e.next=3,t.initialize();case 3:return e.next=5,P.CryptoKeyToHex("spki",t.publicKey);case 5:return n=e.sent,e.next=8,P.CryptoKeyToHex("pkcs8",t.privateKey);case 8:s=e.sent,a.current&&r.current&&(a.current.innerText=n,r.current.innerText=new Array(s.length).fill("\u25e6").join("")),c=[].concat(Object(d.a)(O),[{publicKey:n,balance:t.balance}]),localStorage.setItem("user",JSON.stringify({publicKey:n,privateKey:s,balance:t.balance})),localStorage.setItem("users",JSON.stringify(c)),f(c);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function g(e,t){e.target.select(),e.target.setSelectionRange(0,99999),document.execCommand("copy");var a="public"===t;o([a,!a&&!e.target.value.includes("\u25e6")])}return Object(m.jsxs)("div",{className:"container-fluid my-3",children:[Object(m.jsx)(v,{}),Object(m.jsxs)("div",{className:"row",children:[(null===(e=JSON.parse(localStorage.getItem("user")))||void 0===e?void 0:e.publicKey)?Object(m.jsx)("div",{className:"col-1"}):Object(m.jsx)("div",{className:"col-2",children:Object(m.jsx)(h.a,{variant:"primary",className:"p-3 font-weight-bold",onClick:y,children:"Create Wallet"})}),Object(m.jsx)("div",{className:"col-5",children:Object(m.jsxs)("div",{className:"user-key",children:[Object(m.jsx)("h3",{className:"mb-3",children:"Public Key:"}),Object(m.jsx)(x.a.Control,{as:"textarea",rows:7,className:"userKey",defaultValue:localStorage.getItem("user")&&JSON.parse(localStorage.getItem("user")).publicKey,isValid:i[0],onFocus:function(e){return g(e,"public")},ref:a}),Object(m.jsx)(x.a.Control.Feedback,{type:"valid",children:"Copied to clipboard!"})]})}),Object(m.jsx)("div",{className:"col-5",children:Object(m.jsxs)("div",{className:"user-key",children:[Object(m.jsxs)("h3",{className:"mb-3",children:["Private Key:"," ",(null===(t=JSON.parse(localStorage.getItem("user")))||void 0===t?void 0:t.publicKey)&&Object(m.jsx)("span",{id:"private-reveal-eyes",onClick:function(){r.current&&(r.current.value.includes("\u25e6")?r.current.value=JSON.parse(localStorage.getItem("user")).privateKey:r.current.value=new Array(r.current.value.length).fill("\u25e6").join(""))},children:"\ud83d\udc40"})]}),Object(m.jsx)(x.a.Control,{as:"textarea",rows:7,className:"userKey",defaultValue:localStorage.getItem("user")?new Array(JSON.parse(localStorage.getItem("user")).privateKey.length).fill("\u25e6").join(""):"",onFocus:function(e){return g(e,"private")},isValid:i[1],ref:r}),Object(m.jsx)(x.a.Control.Feedback,{type:"valid",children:"Copied to clipboard!"})]})})]}),Object(m.jsx)(M,{}),Object(m.jsx)(J,{details:O,title:"Users"})]})}a(66);function E(e){var t=e.details,a=Object(n.useState)(!1),r=Object(b.a)(a,2),s=r[0],c=r[1],i=Object(n.useRef)({index:0,prevHash:"",currHash:"",transactions:[],timestamp:Date.now()});return Object(m.jsxs)("div",{className:"container-fluid mx-5 row",children:[t.map((function(e,t){return Object(m.jsxs)("div",{className:"row block-and-chain my-2",children:[Object(m.jsx)("div",{className:"block-background "+(t>2?"invalid-block":"valid-block"),onClick:function(){i.current=e,c(!0)},children:Object(m.jsx)("div",{className:"block-counter",children:t})}),Object(m.jsx)("div",{className:"chain-link",children:"\ud83d\udd17"})]},Math.random())})),Object(m.jsxs)(V.a,{show:s,centered:!0,onHide:function(){return c(!1)},animation:!1,children:[Object(m.jsx)(V.a.Header,{closeButton:!0,children:Object(m.jsx)(V.a.Title,{children:"Block Details"})}),Object(m.jsx)(V.a.Body,{children:Object(m.jsxs)(x.a,{children:[Object(m.jsxs)(x.a.Group,{controlId:"index-indicator",children:[Object(m.jsx)(x.a.Label,{children:Object(m.jsx)("h5",{children:"Index:"})}),Object(m.jsx)(x.a.Control,{type:"number",defaultValue:i.current.index})]}),Object(m.jsxs)(x.a.Group,{controlId:"index-indicator",children:[Object(m.jsx)(x.a.Label,{children:Object(m.jsx)("h5",{children:"Timestamp:"})}),Object(m.jsx)(x.a.Control,{type:"number",defaultValue:i.current.timestamp})]}),Object(m.jsxs)(x.a.Group,{controlId:"prevHash-indicator",children:[Object(m.jsx)(x.a.Label,{children:Object(m.jsx)("h5",{children:"Previous Hash:"})}),Object(m.jsx)(x.a.Control,{type:"text",defaultValue:i.current.prevHash})]}),Object(m.jsxs)(x.a.Group,{controlId:"prevHash-indicator",children:[Object(m.jsx)(x.a.Label,{children:Object(m.jsx)("h5",{children:"Current Hash:"})}),Object(m.jsx)(x.a.Control,{type:"text",defaultValue:i.current.currHash})]}),Object(m.jsxs)(x.a.Group,{controlId:"prevHash-indicator",children:[Object(m.jsx)(x.a.Label,{children:Object(m.jsx)("h5",{children:"Merkle Root:"})}),Object(m.jsx)(x.a.Control,{type:"text",defaultValue:JSON.stringify(i.current.transactions)})]})]})})]})]})}function F(){return Object(m.jsxs)("div",{children:[Object(m.jsx)(v,{}),Object(m.jsx)(E,{details:[{index:0,prevHash:"",currHash:"0000000000000000000000000000000000000000000",transactions:[],timestamp:Date.now()},{index:0,prevHash:"",currHash:"0000000000000000000000000000000000000000000",transactions:[],timestamp:Date.now()},{index:0,prevHash:"",currHash:"0000000000000000000000000000000000000000000",transactions:[],timestamp:Date.now()},{index:0,prevHash:"",currHash:"0000000000000000000000000000000000000000000",transactions:[],timestamp:Date.now()},{index:0,prevHash:"",currHash:"0000000000000000000000000000000000000000000",transactions:[],timestamp:Date.now()},{index:0,prevHash:"",currHash:"0000000000000000000000000000000000000000000",transactions:[],timestamp:Date.now()},{index:0,prevHash:"",currHash:"0000000000000000000000000000000000000000000",transactions:[],timestamp:Date.now()},{index:0,prevHash:"",currHash:"0000000000000000000000000000000000000000000",transactions:[],timestamp:Date.now()},{index:0,prevHash:"",currHash:"0000000000000000000000000000000000000000000",transactions:[],timestamp:Date.now()},{index:0,prevHash:"",currHash:"0000000000000000000000000000000000000000000",transactions:[],timestamp:Date.now()},{index:0,prevHash:"",currHash:"0000000000000000000000000000000000000000000",transactions:[],timestamp:Date.now()},{index:0,prevHash:"",currHash:"0000000000000000000000000000000000000000000",transactions:[],timestamp:Date.now()},{index:0,prevHash:"",currHash:"0000000000000000000000000000000000000000000",transactions:[],timestamp:Date.now()},{index:0,prevHash:"",currHash:"0000000000000000000000000000000000000000000",transactions:[],timestamp:Date.now()},{index:0,prevHash:"",currHash:"0000000000000000000000000000000000000000000",transactions:[],timestamp:Date.now()},{index:0,prevHash:"",currHash:"0000000000000000000000000000000000000000000",transactions:[],timestamp:Date.now()},{index:0,prevHash:"",currHash:"0000000000000000000000000000000000000000000",transactions:[],timestamp:Date.now()},{index:0,prevHash:"",currHash:"0000000000000000000000000000000000000000000",transactions:[],timestamp:Date.now()},{index:0,prevHash:"",currHash:"0000000000000000000000000000000000000000000",transactions:[],timestamp:Date.now()},{index:0,prevHash:"",currHash:"0000000000000000000000000000000000000000000",transactions:[],timestamp:Date.now()},{index:0,prevHash:"",currHash:"0000000000000000000000000000000000000000000",transactions:[],timestamp:Date.now()},{index:0,prevHash:"",currHash:"0000000000000000000000000000000000000000000",transactions:[],timestamp:Date.now()},{index:0,prevHash:"",currHash:"0000000000000000000000000000000000000000000",transactions:[],timestamp:Date.now()},{index:0,prevHash:"",currHash:"0000000000000000000000000000000000000000000",transactions:[],timestamp:Date.now()},{index:0,prevHash:"",currHash:"0000000000000000000000000000000000000000000",transactions:[],timestamp:Date.now()},{index:0,prevHash:"",currHash:"0000000000000000000000000000000000000000000",transactions:[],timestamp:Date.now()},{index:0,prevHash:"",currHash:"0000000000000000000000000000000000000000000",transactions:[],timestamp:Date.now()},{index:0,prevHash:"",currHash:"0000000000000000000000000000000000000000000",transactions:[],timestamp:Date.now()},{index:0,prevHash:"",currHash:"0000000000000000000000000000000000000000000",transactions:[],timestamp:Date.now()},{index:0,prevHash:"",currHash:"0000000000000000000000000000000000000000000",transactions:[],timestamp:Date.now()},{index:0,prevHash:"",currHash:"0000000000000000000000000000000000000000000",transactions:[],timestamp:Date.now()},{index:0,prevHash:"",currHash:"0000000000000000000000000000000000000000000",transactions:[],timestamp:Date.now()},{index:0,prevHash:"",currHash:"0000000000000000000000000000000000000000000",transactions:[],timestamp:Date.now()},{index:0,prevHash:"",currHash:"0000000000000000000000000000000000000000000",transactions:[],timestamp:Date.now()},{index:0,prevHash:"",currHash:"0000000000000000000000000000000000000000000",transactions:[],timestamp:Date.now()},{index:0,prevHash:"",currHash:"0000000000000000000000000000000000000000000",transactions:[],timestamp:Date.now()},{index:0,prevHash:"",currHash:"0000000000000000000000000000000000000000000",transactions:[],timestamp:Date.now()}]})]})}a(67);function U(){var e=Object(n.useState)(),t=Object(b.a)(e,2),a=t[0],r=t[1],s=Object(n.useState)(""),c=Object(b.a)(s,2),i=c[0],o=c[1],l=Object(n.useState)(""),d=Object(b.a)(l,2),p=d[0],O=d[1],f=Object(n.useState)(!1),y=Object(b.a)(f,2),g=y[0],w=y[1],H=Object(n.useRef)();function k(e){return S.apply(this,arguments)}function S(){return(S=Object(j.a)(u.a.mark((function e(t){var a,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.instance.digestMessage(L.instance.randomHash(20));case 2:return a=e.sent,n=new RegExp("^.{0,".concat(t,"}"),"g"),r=Array(t).fill("0").join(""),a=a.replace(n,r),O(a),e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(){return(C=Object(j.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(!1),H.current=Math.round(1e6*Math.random()),t=Math.round(Math.random())+2,e.next=5,k(t);case 5:return a=e.sent,e.next=8,L.instance.mine(H.current,t,r,o,0);case 8:e.sent<=a&&w(!0);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(m.jsxs)("div",{className:"container-fluid",children:[Object(m.jsx)(v,{}),Object(m.jsx)("div",{id:"verified-transaction",children:Object(m.jsx)(J,{details:JSON.parse(localStorage.getItem("transactions")),title:"Verified Transactions"})}),Object(m.jsxs)("div",{className:"row d-flex justify-content-center align-items-center my-5 container-fluid",children:[Object(m.jsxs)("div",{className:"col-6",id:"mine-interactive-area",children:[Object(m.jsxs)("div",{id:"statistics",children:[Object(m.jsxs)(x.a.Group,{children:[Object(m.jsx)("h5",{children:"Nonce:"}),Object(m.jsx)(x.a.Control,{type:"number",defaultValue:H.current,disabled:!0})]}),Object(m.jsxs)(x.a.Group,{children:[Object(m.jsx)("h5",{children:"Current:"}),Object(m.jsx)(x.a.Control,{type:"number",defaultValue:a,disabled:!0})]}),Object(m.jsxs)(x.a.Group,{children:[Object(m.jsx)("h5",{children:"Target:"}),Object(m.jsx)(x.a.Control,{type:"text",defaultValue:p,disabled:!0})]}),Object(m.jsxs)(x.a.Group,{children:[Object(m.jsx)("h5",{children:"Solution:"}),Object(m.jsx)(x.a.Control,{type:"text",style:g?{color:"green"}:{color:"red"},defaultValue:i,disabled:!0})]})]}),Object(m.jsx)(h.a,{variant:"primary",className:"btn-block d-block mt-3",onClick:function(){return function(){return C.apply(this,arguments)}()},children:Object(m.jsx)("h4",{children:"Mine"})})]}),Object(m.jsxs)("div",{id:"mined-block",className:"col-6 "+(g?"valid-block":"invalid-block"),children:[g&&Object(m.jsx)(h.a,{variant:"success",id:"mine-add-block",children:"+"}),Object(m.jsxs)(x.a.Group,{children:[Object(m.jsx)(x.a.Label,{children:Object(m.jsx)("h5",{children:"Index:"})})," ",Object(m.jsx)(x.a.Control,{type:"number",defaultValue:L.instance.lastBlock.index+1,disabled:!0})]}),Object(m.jsxs)(x.a.Group,{children:[Object(m.jsx)(x.a.Label,{children:Object(m.jsx)("h5",{children:"Timestamp:"})}),Object(m.jsx)(x.a.Control,{type:"number",defaultValue:i?Date.now():"",disabled:!0})]}),Object(m.jsxs)(x.a.Group,{children:[Object(m.jsx)(x.a.Label,{children:Object(m.jsx)("h5",{children:"Previous Hash:"})}),Object(m.jsx)(x.a.Control,{type:"text",defaultValue:L.instance.lastBlock.currHash,disabled:!0})]}),Object(m.jsxs)(x.a.Group,{children:[Object(m.jsx)(x.a.Label,{children:Object(m.jsx)("h5",{children:"Current Hash:"})}),Object(m.jsx)(x.a.Control,{type:"text",defaultValue:i,disabled:!0})]}),Object(m.jsxs)(x.a.Group,{children:[Object(m.jsx)(x.a.Label,{children:Object(m.jsx)("h5",{children:"Merkle Root:"})}),Object(m.jsx)(x.a.Control,{type:"text",defaultValue:"4h354kdnf380sdf234...",disabled:!0})]})]})]})]})}a(68),a(69);function q(){return Object(m.jsxs)(i.a,{basename:"/LibraCoin",children:[Object(m.jsx)(o.b,{exact:!0,path:"/",children:Object(m.jsx)(o.a,{to:"/wallet"})}),Object(m.jsx)(o.b,{path:"/wallet",component:R}),Object(m.jsx)(o.b,{path:"/mine",component:U}),Object(m.jsx)(o.b,{path:"/blockchain",component:F})]})}c.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(q,{})}),document.getElementById("root"))}},[[73,1,2]]]);
//# sourceMappingURL=main.aa7d1fda.chunk.js.map